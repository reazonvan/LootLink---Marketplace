# üìßüì± –ù–ê–°–¢–†–û–ô–ö–ê EMAIL –ò SMS

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ä–µ–∞–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ email –∏ SMS –∫–æ–¥–æ–≤.

---

## üìß –ù–ê–°–¢–†–û–ô–ö–ê EMAIL

### –í–∞—Ä–∏–∞–Ω—Ç 1: Gmail SMTP (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)

#### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Gmail

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://myaccount.google.com/apppasswords
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π Google –∞–∫–∫–∞—É–Ω—Ç
3. –í—ã–±–µ—Ä–∏—Ç–µ "–ü–æ—á—Ç–∞" –∏ "–î—Ä—É–≥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ"
4. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "LootLink"
5. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"
6. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ 16-–∑–Ω–∞—á–Ω—ã–π –ø–∞—Ä–æ–ª—å** (–µ–≥–æ –ø–æ–∫–∞–∂—É—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)

#### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
ssh root@91.218.245.178
nano /opt/lootlink/.env
```

–î–æ–±–∞–≤—å—Ç–µ/–∏–∑–º–µ–Ω–∏—Ç–µ:
```env
# Email Settings (Gmail)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=–≤–∞—à-email@gmail.com
EMAIL_HOST_PASSWORD=—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-–ø–∞—Ä–æ–ª—å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
DEFAULT_FROM_EMAIL=noreply@lootlink.com
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Yandex SMTP

```env
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.yandex.ru
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=–≤–∞—à-email@yandex.ru
EMAIL_HOST_PASSWORD=–≤–∞—à-–ø–∞—Ä–æ–ª—å
DEFAULT_FROM_EMAIL=noreply@lootlink.com
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Mail.ru SMTP

```env
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.mail.ru
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=–≤–∞—à-email@mail.ru
EMAIL_HOST_PASSWORD=–≤–∞—à-–ø–∞—Ä–æ–ª—å
DEFAULT_FROM_EMAIL=noreply@lootlink.com
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: SendGrid (–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π)

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://sendgrid.com (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 100 –ø–∏—Å–µ–º/–¥–µ–Ω—å)
2. –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: `pip install sendgrid`

```env
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.sendgrid.net
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=apikey
EMAIL_HOST_PASSWORD=–≤–∞—à-sendgrid-api-key
DEFAULT_FROM_EMAIL=noreply@lootlink.com
```

---

## üì± –ù–ê–°–¢–†–û–ô–ö–ê SMS (SMS.ru)

### –ü–æ—á–µ–º—É SMS.ru?

- ‚úÖ –†–æ—Å—Å–∏–π—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å
- ‚úÖ –ù–∏–∑–∫–∞—è —Ü–µ–Ω–∞ (~2-3‚ÇΩ –∑–∞ –°–ú–°)
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π API
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –†–§

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ SMS.ru

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://sms.ru/registration
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å (email + –ø–∞—Ä–æ–ª—å)
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email
4. –í–æ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç

### –®–∞–≥ 2: –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å

1. –í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ: "–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å"
2. –ú–∏–Ω–∏–º—É–º: **100‚ÇΩ** (—Ö–≤–∞—Ç–∏—Ç –Ω–∞ ~50 –°–ú–°)
3. –î–ª—è –Ω–∞—á–∞–ª–∞: **300‚ÇΩ** (—Ö–≤–∞—Ç–∏—Ç –Ω–∞ ~150 –°–ú–°)
4. –û–ø–ª–∞—Ç–∏—Ç–µ –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º

### –®–∞–≥ 3: –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á

1. –í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" ‚Üí "API"
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à API –∫–ª—é—á
3. –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π (–∫–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å")

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç–µ .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
ssh root@91.218.245.178
nano /opt/lootlink/.env
```

–î–æ–±–∞–≤—å—Ç–µ:
```env
# SMS Settings (SMS.ru)
SMS_ENABLED=True
SMS_RU_API_KEY=–≤–∞—à-api-–∫–ª—é—á-–∏–∑-sms-ru
```

### –¶–µ–Ω—ã SMS.ru (–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ):

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –¶–µ–Ω–∞ –∑–∞ –°–ú–° |
|----------|-------------|
| –ú–¢–° | 2.10‚ÇΩ |
| –ë–∏–ª–∞–π–Ω | 2.10‚ÇΩ |
| –ú–µ–≥–∞—Ñ–æ–Ω | 2.10‚ÇΩ |
| –¢–µ–ª–µ2 | 2.10‚ÇΩ |

**–ò—Ç–æ–≥–æ:** ~300‚ÇΩ = ~140 –°–ú–° = ~140 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π/—Å–±—Ä–æ—Å–æ–≤ –ø–∞—Ä–æ–ª—è

---

## üîÑ –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –ù–ê–°–¢–†–û–ï–ö

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è .env —Ñ–∞–π–ª–∞:

```bash
ssh root@91.218.245.178
cd /opt/lootlink
sudo systemctl restart lootlink
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Email:

```bash
cd /opt/lootlink
source venv/bin/activate
python manage.py shell
```

–í shell:
```python
from django.core.mail import send_mail
from django.conf import settings

send_mail(
    '–¢–µ—Å—Ç',
    '–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ',
    settings.DEFAULT_FROM_EMAIL,
    ['–≤–∞—à-email@gmail.com'],
)
```

–ï—Å–ª–∏ –ø–∏—Å—å–º–æ –ø—Ä–∏—à–ª–æ - ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç!

### –ü—Ä–æ–≤–µ—Ä–∫–∞ SMS:

```python
from core.sms_service import send_sms

send_sms('+79991234567', '–¢–µ—Å—Ç–æ–≤–æ–µ –°–ú–° —Å LootLink')
```

–ï—Å–ª–∏ –°–ú–° –ø—Ä–∏—à–ª–æ - ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç!

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–∏—Å–µ–º:

–õ–æ–≥–∏:
```bash
tail -f /opt/lootlink/logs/lootlink.log | grep -i email
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –°–ú–°:

1. –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç SMS.ru ‚Üí "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
2. –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```bash
tail -f /opt/lootlink/logs/lootlink.log | grep -i sms
```

---

## üí∞ –†–ê–°–•–û–î–´ (–ø—Ä–∏–º–µ—Ä–Ω–æ)

### –ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:

| –£—Å–ª—É–≥–∞ | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|--------|-----------|
| Gmail SMTP | **–ë–ï–°–ü–õ–ê–¢–ù–û** (–¥–æ 500 –ø–∏—Å–µ–º/–¥–µ–Ω—å) |
| SMS.ru –±–∞–ª–∞–Ω—Å | **300‚ÇΩ** (–Ω–∞ —Å—Ç–∞—Ä—Ç) |
| **–ò–¢–û–ì–û** | **300‚ÇΩ** |

### –ï–∂–µ–º–µ—Å—è—á–Ω–æ (–ø—Ä–∏ 100 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è—Ö):

| –£—Å–ª—É–≥–∞ | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|--------|-----------|
| Email | **–ë–ï–°–ü–õ–ê–¢–ù–û** |
| SMS (100 —à—Ç) | **~210‚ÇΩ** |
| **–ò–¢–û–ì–û** | **~210‚ÇΩ/–º–µ—Å—è—Ü** |

---

## üîß –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –°–ï–†–í–ò–°–´

### –î–ª—è SMS:

1. **SMSC.ru** (https://smsc.ru)
   - –¶–µ–Ω–∞: ~2.5‚ÇΩ –∑–∞ –°–ú–°
   - –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: –≤—ã—Å–æ–∫–∞—è
   
2. **SMS Aero** (https://smsaero.ru)
   - –¶–µ–Ω–∞: ~2‚ÇΩ –∑–∞ –°–ú–°
   - –ë–æ–Ω—É—Å: 1‚ÇΩ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

3. **Twilio** (https://twilio.com)
   - –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π
   - –î–æ—Ä–æ–∂–µ –¥–ª—è –†–§ (~5‚ÇΩ)
   - –û—á–µ–Ω—å –Ω–∞–¥–µ–∂–Ω—ã–π

### –î–ª—è Email:

1. **SendGrid** - –¥–æ 100 –ø–∏—Å–µ–º/–¥–µ–Ω—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ
2. **Mailgun** - –¥–æ 5000 –ø–∏—Å–µ–º/–º–µ—Å—è—Ü –±–µ—Å–ø–ª–∞—Ç–Ω–æ
3. **Amazon SES** - $0.10 –∑–∞ 1000 –ø–∏—Å–µ–º
4. **Gmail SMTP** - –¥–æ 500 –ø–∏—Å–µ–º/–¥–µ–Ω—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ ‚úÖ

---

## üõ°Ô∏è –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### –í–∞–∂–Ω–æ:

1. ‚úÖ **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env** –≤ git (—É–∂–µ –≤ .gitignore)
2. ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–æ–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**, –Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä–æ–ª—å
3. ‚úÖ **–•—Ä–∞–Ω–∏—Ç–µ API –∫–ª—é—á–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
4. ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–∞—Å—Ö–æ–¥** (SMS –∏ email)
5. ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ rate limiting** (–∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞)

### –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π:

```python
# –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–¥–æ–≤ (—Å—Ç–∞—Ä—ã–µ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è)
- ‚úÖ –ö–æ–¥—ã –¥–µ–π—Å—Ç–≤—É—é—Ç 15 –º–∏–Ω—É—Ç
- ‚úÖ –ö–æ–¥—ã –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ
- ‚úÖ Rate limiting middleware (SimpleRateLimitMiddleware)
```

---

## üìù –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å:

1. **–ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:**
   - ‚úâÔ∏è Email: —Å—Å—ã–ª–∫–∞ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è + –∫–æ–¥
   - üì± SMS: –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

2. **–ü—Ä–∏ —Å–±—Ä–æ—Å–µ –ø–∞—Ä–æ–ª—è:**
   - ‚úâÔ∏è Email: –∫–æ–¥ –¥–ª—è —Å–±—Ä–æ—Å–∞
   - üì± SMS: —Ç–æ—Ç –∂–µ –∫–æ–¥ (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏)

3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
   - ‚úâÔ∏è Email: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–¥–µ–ª–∫–∞—Ö
   - üì± SMS: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üöÄ –ë–´–°–¢–†–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê (5 –º–∏–Ω—É—Ç)

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):

```env
# .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=–≤–∞—à-gmail@gmail.com
EMAIL_HOST_PASSWORD=–ø–∞—Ä–æ–ª—å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
DEFAULT_FROM_EMAIL=noreply@lootlink.com
SMS_ENABLED=False  # –°–ú–° –æ—Ç–∫–ª—é—á–µ–Ω—ã (–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥–∞—Ö)
```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (—Å SMS):

```env
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=–≤–∞—à-gmail@gmail.com
EMAIL_HOST_PASSWORD=–ø–∞—Ä–æ–ª—å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
DEFAULT_FROM_EMAIL=noreply@lootlink.com
SMS_ENABLED=True
SMS_RU_API_KEY=–≤–∞—à-api-–∫–ª—é—á
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```bash
sudo systemctl restart lootlink
```

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –∫–æ–¥—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω–æ! üéâ

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://sms.ru/api  
**–ü–æ–¥–¥–µ—Ä–∂–∫–∞ SMS.ru:** support@sms.ru  
**–¶–µ–Ω—ã:** https://sms.ru/price

