# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ LootLink

–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ LootLink.

---

## üìä –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         Frontend                             ‚îÇ
‚îÇ  HTML Templates + Bootstrap 5 + Vanilla JavaScript           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ HTTP/HTTPS
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         Nginx                                ‚îÇ
‚îÇ  - SSL Termination                                           ‚îÇ
‚îÇ  - Static/Media serving                                      ‚îÇ
‚îÇ  - Reverse Proxy                                             ‚îÇ
‚îÇ  - Gzip Compression                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      Gunicorn                                ‚îÇ
‚îÇ  - WSGI Server                                               ‚îÇ
‚îÇ  - Process Management                                        ‚îÇ
‚îÇ  - Load Balancing (workers)                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Django 4.2                                ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Applications:                                        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - accounts   (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø—Ä–æ—Ñ–∏–ª–∏)              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - listings   (–û–±—ä—è–≤–ª–µ–Ω–∏—è, –∏–≥—Ä—ã)                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - transactions (–ü–æ–∫—É–ø–∫–∏, –æ—Ç–∑—ã–≤—ã)                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - chat       (–°–æ–æ–±—â–µ–Ω–∏—è, –±–µ—Å–µ–¥—ã)                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - core       (–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —É—Ç–∏–ª–∏—Ç—ã)               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Middleware:                                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - SecurityHeadersMiddleware (CSP, HSTS)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - SimpleRateLimitMiddleware (DDoS –∑–∞—â–∏—Ç–∞)          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - CSRF Protection                                   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ            ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ PostgreSQL  ‚îÇ  ‚îÇ  Redis   ‚îÇ
        ‚îÇ    15+      ‚îÇ  ‚îÇ   7      ‚îÇ
        ‚îÇ             ‚îÇ  ‚îÇ          ‚îÇ
        ‚îÇ - Full-Text ‚îÇ  ‚îÇ - Cache  ‚îÇ
        ‚îÇ - Indexes   ‚îÇ  ‚îÇ - Sessions‚îÇ
        ‚îÇ - Relations ‚îÇ  ‚îÇ - Rate   ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ   Limit  ‚îÇ
                         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Django

### 1. **accounts** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

**–ú–æ–¥–µ–ª–∏:**
- `CustomUser` - –ö–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `username` (unique)
  - `email` (unique)
  - –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω delete() - —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ

- `Profile` - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `avatar` - –ê–≤–∞—Ç–∞—Ä (—Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π)
  - `bio`, `phone` - –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  - `rating` (0-5) - –†–µ–π—Ç–∏–Ω–≥ –ø—Ä–æ–¥–∞–≤—Ü–∞
  - `total_sales`, `total_purchases` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  - `is_verified` - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏–∑ –æ—Ç–∑—ã–≤–æ–≤
  - **–û–±—â–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —á–∞—Ç** (—Å–æ—Ü—Å–µ—Ç–∏ —É–¥–∞–ª–µ–Ω—ã)

- `PasswordResetCode` - –ö–æ–¥—ã –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
  - 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥
  - TTL 15 –º–∏–Ω—É—Ç
  - –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π

**Views:**
- `register()` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `user_login()` - –í—Ö–æ–¥
- `profile()` - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è
- `profile_edit()` - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `my_listings()`, `my_purchases()`, `my_sales()` - –õ–∏—á–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã
- `password_reset_request()` - –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- CSRF –∑–∞—â–∏—Ç–∞
- Rate limiting (5 –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞ –∑–∞ 5 –º–∏–Ω—É—Ç)
- –í–∞–ª–∏–¥–∞—Ü–∏—è email
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (PBKDF2)

---

### 2. **listings** - –û–±—ä—è–≤–ª–µ–Ω–∏—è –∏ –∏–≥—Ä—ã

**–ú–æ–¥–µ–ª–∏:**
- `Game` - –ò–≥—Ä–∞
  - `name`, `slug`, `description`
  - `icon` - –ò–∫–æ–Ω–∫–∞ –∏–≥—Ä—ã
  - `is_active` - –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

- `Listing` - –û–±—ä—è–≤–ª–µ–Ω–∏–µ
  - `title`, `description`, `price`
  - `image` - –§–æ—Ç–æ (–≤–∞–ª–∏–¥–∞—Ü–∏—è 5MB, JPEG/PNG/GIF/WebP)
  - `status` - active/reserved/sold/cancelled
  - `search_vector` - PostgreSQL Full-Text Search
  - GIN –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

- `Favorite` - –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
  - unique_together –¥–ª—è user + listing

- `Report` - –ñ–∞–ª–æ–±—ã
  - –ù–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –°—Ç–∞—Ç—É—Å—ã: pending/reviewed/resolved/rejected

**Views:**
- `catalog()` - –ö–∞—Ç–∞–ª–æ–≥ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –ø–æ–∏—Å–∫–æ–º
- `listing_detail()` - –î–µ—Ç–∞–ª–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- `listing_create()`, `listing_edit()`, `listing_delete()` - CRUD
- `toggle_favorite()` - AJAX –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
- `report_listing()`, `report_user()` - –ñ–∞–ª–æ–±—ã

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- `select_related()` –¥–ª—è ForeignKey
- `prefetch_related()` –¥–ª—è ManyToMany
- PostgreSQL Full-Text Search —Å —Ä—É—Å—Å–∫–æ–π –º–æ—Ä—Ñ–æ–ª–æ–≥–∏–µ–π
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (5 –º–∏–Ω—É—Ç)
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è (12 –æ–±—ä—è–≤–ª–µ–Ω–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É)

---

### 3. **transactions** - –°–¥–µ–ª–∫–∏ –∏ –æ—Ç–∑—ã–≤—ã

**–ú–æ–¥–µ–ª–∏:**
- `PurchaseRequest` - –ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–∫—É–ø–∫—É
  - –°—Ç–∞—Ç—É—Å—ã: pending ‚Üí accepted ‚Üí completed
  - `unique_together` –¥–ª—è buyer + listing (–æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –æ—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—è)
  - –ê—Ç–æ–º–∞—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ F()

- `Review` - –û—Ç–∑—ã–≤
  - –†–µ–π—Ç–∏–Ω–≥ 1-5 –∑–≤–µ–∑–¥
  - `unique_together` –¥–ª—è purchase_request + reviewer
  - –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Business Logic:**

```
1. –ü–æ–∫—É–ø–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç PurchaseRequest (status=pending)
2. –ü—Ä–æ–¥–∞–≤–µ—Ü –ø—Ä–∏–Ω–∏–º–∞–µ—Ç ‚Üí status=accepted, listing.status=reserved
3. –ü—Ä–æ–¥–∞–≤–µ—Ü –∑–∞–≤–µ—Ä—à–∞–µ—Ç ‚Üí status=completed, listing.status=sold
4. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: total_sales++, total_purchases++
5. –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –∏ –ø—Ä–æ–¥–∞–≤–µ—Ü –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–∏—Ç—å Review
6. –†–µ–π—Ç–∏–Ω–≥ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

**Views:**
- `purchase_request_create()` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
- `purchase_request_accept()` - –ü—Ä–∏–Ω—è—Ç–∏–µ (—Ç–æ–ª—å–∫–æ –ø—Ä–æ–¥–∞–≤–µ—Ü)
- `purchase_request_reject()` - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –ø—Ä–æ–¥–∞–≤–µ—Ü)
- `purchase_request_complete()` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –ø—Ä–æ–¥–∞–≤–µ—Ü)
- `review_create()` - –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞

---

### 4. **chat** - –°–∏—Å—Ç–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

**–ú–æ–¥–µ–ª–∏:**
- `Conversation` - –ë–µ—Å–µ–¥–∞
  - `participant1`, `participant2` - –£—á–∞—Å—Ç–Ω–∏–∫–∏
  - `listing` - –°–≤—è–∑–∞–Ω–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ (optional)
  - `unique_together` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
  - –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `updated_at` –ø—Ä–∏ –Ω–æ–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏

- `Message` - –°–æ–æ–±—â–µ–Ω–∏–µ
  - `content` (max 5000 —Å–∏–º–≤–æ–ª–æ–≤)
  - `is_read` - –°—Ç–∞—Ç—É—Å –ø—Ä–æ—á—Ç–µ–Ω–∏—è
  - Ordering –ø–æ `created_at` (—Å—Ç–∞—Ä—ã–µ –ø–µ—Ä–≤—ã–º–∏)

**Real-time Updates:**
```javascript
// JavaScript polling –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã
setInterval(() => {
    fetch(`/chat/api/messages/${conversationId}/?after=${lastMessageId}`)
        .then(response => response.json())
        .then(data => {
            // –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å escapeHtml()
        });
}, 3000);
```

**–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
- Email –ø—Ä–∏ –Ω–æ–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ (—Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—é!)
- –°–æ–∑–¥–∞–Ω–∏–µ Notification –≤ –ë–î
- Auto-mark as read –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –±–µ—Å–µ–¥—ã

---

### 5. **core** - –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã

**–ú–æ–¥–µ–ª–∏:**
- `Notification` - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - –¢–∏–ø—ã: new_message, purchase_request, request_accepted, etc.
  - `is_read`, `read_at` - –°—Ç–∞—Ç—É—Å
  - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–¥—Å—á–µ—Ç–∞ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö

**Utilities:**
- `email_utils.py` - –û—Ç–ø—Ä–∞–≤–∫–∞ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `context_processors.py` - –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
- `middleware.py`:
  - `SimpleRateLimitMiddleware` - –ó–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
  - `SecurityHeadersMiddleware` - CSP, HSTS, XSS –∑–∞—â–∏—Ç–∞

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 1. CSRF Protection
```python
# –í—Å–µ POST —Ñ–æ—Ä–º—ã –∑–∞—â–∏—â–µ–Ω—ã
{% csrf_token %}

# AJAX –∑–∞–ø—Ä–æ—Å—ã –≤–∫–ª—é—á–∞—é—Ç CSRF —Ç–æ–∫–µ–Ω
headers: {'X-CSRFToken': getCookie('csrftoken')}
```

### 2. XSS Protection
```javascript
// –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è
function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
}
```

### 3. SQL Injection Protection
```python
# Django ORM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
Listing.objects.filter(title__icontains=search)  # ‚úÖ Safe
```

### 4. Rate Limiting
```python
RATE_LIMITS = {
    '/accounts/login/': (5, 300),        # 5 –ø–æ–ø—ã—Ç–æ–∫ –∑–∞ 5 –º–∏–Ω—É—Ç
    '/accounts/register/': (3, 600),      # 3 –ø–æ–ø—ã—Ç–∫–∏ –∑–∞ 10 –º–∏–Ω—É—Ç
    '/listing/create/': (10, 3600),       # 10 –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤ —á–∞—Å
}
```

### 5. Content Security Policy
```
Content-Security-Policy:
  default-src 'self';
  script-src 'self' https://cdn.jsdelivr.net;
  style-src 'self' https://cdn.jsdelivr.net 'unsafe-inline';
  img-src 'self' data: https:;
```

### 6. File Upload Validation
```python
# –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –†–∞–∑–º–µ—Ä: max 5MB
- –¢–∏–ø: JPEG, PNG, GIF, WebP
- imghdr –ø—Ä–æ–≤–µ—Ä–∫–∞ (–Ω–µ —Ç–æ–ª—å–∫–æ content-type)
```

---

## üóÉÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### Schema Diagram

```
CustomUser ‚îÄ‚îÄ1:1‚îÄ‚Üí Profile
    ‚îÇ                 ‚îÇ
    ‚îÇ                 ‚îî‚îÄ‚Üí Reviews received
    ‚îÇ
    ‚îú‚îÄ‚îÄ1:N‚îÄ‚Üí Listings ‚îÄ‚îÄ1:N‚îÄ‚Üí PurchaseRequests ‚îÄ‚îÄ1:N‚îÄ‚Üí Reviews
    ‚îÇ           ‚îÇ                   ‚îÇ
    ‚îÇ           ‚îî‚îÄ‚îÄ1:N‚îÄ‚Üí Favorites  ‚îÇ
    ‚îÇ                               ‚îÇ
    ‚îú‚îÄ‚îÄ1:N‚îÄ‚Üí Conversations ‚îÄ‚îÄ1:N‚îÄ‚Üí Messages
    ‚îÇ
    ‚îî‚îÄ‚îÄ1:N‚îÄ‚Üí Notifications
```

### –ò–Ω–¥–µ–∫—Å—ã (24+)

**accounts:**
- `user` (ForeignKey, auto)
- `rating` (–¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏)
- `is_verified, rating` (–∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π)

**listings:**
- `game, status` (–∫–∞—Ç–∞–ª–æ–≥ –ø–æ –∏–≥—Ä–µ)
- `seller, status` (–º–æ–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è)
- `created_at, status` (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ)
- `search_vector` (GIN –¥–ª—è full-text)
- `status, price` (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ)

**transactions:**
- `buyer, status, created_at` (–º–æ–∏ –ø–æ–∫—É–ø–∫–∏)
- `seller, status, created_at` (–º–æ–∏ –ø—Ä–æ–¥–∞–∂–∏)
- `listing, status` (–∑–∞–ø—Ä–æ—Å—ã –ø–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—é)

**chat:**
- `participant1, updated_at` (–±–µ—Å–µ–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- `conversation, is_read` (–Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ)

**core:**
- `user, is_read` (–Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- `created_at` (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)

### Constraints

```python
# Unique Together
- Profile: –Ω–µ –Ω—É–∂–µ–Ω (OneToOne —Å User)
- Conversation: [participant1, participant2, listing]
- PurchaseRequest: [listing, buyer]
- Review: [purchase_request, reviewer]
- Favorite: [user, listing]

# Check Constraints (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)
- price >= 0
- rating between 0 and 5
- description length >= 10
```

---

## üîÑ Data Flow

### –ü—Ä–∏–º–µ—Ä: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É

```
1. User –Ω–∞–∂–∏–º–∞–µ—Ç "–ö—É–ø–∏—Ç—å" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
   ‚Üì
2. listings/listing_detail.html
   ‚Üì
3. POST /transactions/purchase-request/<listing_id>/create/
   ‚Üì
4. transactions/views.py::purchase_request_create()
   ‚îú‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è (–Ω–µ —Å–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ, –¥–æ—Å—Ç—É–ø–Ω–æ)
   ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
   ‚îî‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ PurchaseRequest
       ‚îú‚îÄ status = 'pending'
       ‚îú‚îÄ buyer = request.user
       ‚îî‚îÄ seller = listing.seller
   ‚Üì
5. Signal / Email
   ‚îú‚îÄ create_notification(seller, ...)
   ‚îî‚îÄ send_mail(seller.email, ...)
   ‚Üì
6. Redirect ‚Üí /transactions/purchase-request/<id>/
```

---

## üì± Frontend Architecture

### Templates Hierarchy

```
base.html (Layout)
  ‚îú‚îÄ listings/
  ‚îÇ   ‚îú‚îÄ landing_page.html (–ì–ª–∞–≤–Ω–∞—è)
  ‚îÇ   ‚îú‚îÄ catalog.html (–ö–∞—Ç–∞–ª–æ–≥)
  ‚îÇ   ‚îú‚îÄ listing_detail.html
  ‚îÇ   ‚îî‚îÄ listing_create.html
  ‚îÇ
  ‚îú‚îÄ accounts/
  ‚îÇ   ‚îú‚îÄ register.html
  ‚îÇ   ‚îú‚îÄ login.html
  ‚îÇ   ‚îú‚îÄ profile.html
  ‚îÇ   ‚îî‚îÄ profile_edit.html
  ‚îÇ
  ‚îú‚îÄ chat/
  ‚îÇ   ‚îú‚îÄ conversations_list.html
  ‚îÇ   ‚îî‚îÄ conversation_detail.html
  ‚îÇ
  ‚îú‚îÄ transactions/
  ‚îÇ   ‚îú‚îÄ purchase_request_detail.html
  ‚îÇ   ‚îî‚îÄ review_create.html
  ‚îÇ
  ‚îî‚îÄ core/
      ‚îî‚îÄ notifications_list.html
```

### JavaScript Modules

```
static/js/
  ‚îú‚îÄ toast-notifications.js   (Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
  ‚îú‚îÄ chat-improvements.js     (Real-time —á–∞—Ç)
  ‚îú‚îÄ phone-formatter.js       (–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞)
  ‚îî‚îÄ file-upload-fix.js       (–ü—Ä–µ–≤—å—é –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤)
```

### CSS Architecture

```css
:root {
    /* CSS Variables */
    --primary: #2563eb;
    --success: #059669;
    --danger: #dc2626;
}

/* Components */
- Buttons (.btn-primary, .btn-success)
- Cards (.card, .listing-item)
- Forms (.form-control, .form-select)
- Badges (.status-active, .status-sold)
- Chat (.message-bubble, .chat-container)
```

---

## üîå API Endpoints

### Chat API

```
GET  /chat/api/messages/<conversation_id>/?after=<last_id>
  ‚Üí –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
  Response: {
      "messages": [
          {"id": 123, "content": "...", "sender": "...", "created_at": "..."}
      ],
      "count": 1
  }
```

### Notifications API

```
GET  /notifications/unread-count/
  ‚Üí –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
  Response: {"count": 5}

POST /notifications/<id>/read/
  ‚Üí –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ
  Response: {"success": true}

POST /notifications/mark-all-read/
  ‚Üí –û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ
  Response: {"success": true}
```

### Favorites API

```
POST /listing/<id>/favorite/
  ‚Üí –î–æ–±–∞–≤–∏—Ç—å/—É–±—Ä–∞—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ (toggle)
  Response: {
      "success": true,
      "is_favorited": true,
      "message": "–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"
  }
```

---

## üìä Performance Optimizations

### 1. Database Queries

**N+1 Problem Solution:**
```python
# ‚ùå BAD
listings = Listing.objects.all()
for listing in listings:
    print(listing.seller.username)  # N+1 –∑–∞–ø—Ä–æ—Å–æ–≤!

# ‚úÖ GOOD
listings = Listing.objects.select_related('seller').all()
for listing in listings:
    print(listing.seller.username)  # 1 –∑–∞–ø—Ä–æ—Å
```

**Prefetch Related:**
```python
# –î–ª—è ManyToMany –∏ –æ–±—Ä–∞—Ç–Ω—ã—Ö ForeignKey
conversations = Conversation.objects.prefetch_related(
    'messages',
    'messages__sender'
)
```

### 2. Caching Strategy

```python
# Homepage stats - 5 –º–∏–Ω—É—Ç
cache.set('homepage_stats', stats, 300)

# –°–ø–∏—Å–æ–∫ –∏–≥—Ä - 1 —á–∞—Å
cache.set('active_games', games, 3600)

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π - 1 –º–∏–Ω—É—Ç–∞
cache.set(f'unread_notif_{user.id}', count, 60)
```

### 3. Pagination

```python
# –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
paginator = Paginator(queryset, 12)
page_obj = paginator.get_page(page_number)
```

### 4. Full-Text Search

```python
# PostgreSQL —Å —Ä—É—Å—Å–∫–æ–π –º–æ—Ä—Ñ–æ–ª–æ–≥–∏–µ–π
from django.contrib.postgres.search import SearchQuery, SearchRank

search_query = SearchQuery(search_term, config='russian')
listings = Listing.objects.annotate(
    rank=SearchRank('search_vector', search_query)
).filter(
    search_vector=search_query
).order_by('-rank')
```

---

## üîß Configuration Files

### settings.py

**Development:**
```python
DEBUG = True
ALLOWED_HOSTS = ['localhost', '127.0.0.1']
CACHES = {'default': {'BACKEND': 'locmem.LocMemCache'}}
EMAIL_BACKEND = 'console.EmailBackend'
```

**Production:**
```python
DEBUG = False
ALLOWED_HOSTS = ['lootlink.com']
CACHES = {'default': {'BACKEND': 'django_redis.cache.RedisCache'}}
EMAIL_BACKEND = 'smtp.EmailBackend'
SECURE_SSL_REDIRECT = True
SESSION_COOKIE_SECURE = True
```

---

## üß™ Testing Strategy

### Test Coverage

```
accounts/tests.py       - 9 —Ç–µ—Å—Ç–æ–≤ (–º–æ–¥–µ–ª–∏, views, forms)
listings/tests.py       - 8 —Ç–µ—Å—Ç–æ–≤ (–º–æ–¥–µ–ª–∏, views)
transactions/tests.py   - 7 —Ç–µ—Å—Ç–æ–≤ (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
chat/tests.py          - 15 —Ç–µ—Å—Ç–æ–≤ (—Å–æ–æ–±—â–µ–Ω–∏—è, –±–µ—Å–µ–¥—ã)
core/tests.py          - 13 —Ç–µ—Å—Ç–æ–≤ (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
–í–°–ï–ì–û                  - 52+ —Ç–µ—Å—Ç–∞ (coverage 65%+)
```

### Types of Tests

1. **Model Tests** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –º–æ–¥–µ–ª–µ–π
2. **View Tests** - HTTP –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã
3. **Form Tests** - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º
4. **Integration Tests** - –ü–æ–ª–Ω—ã–π user flow
5. **Security Tests** - CSRF, XSS, permissions

---

## üì¶ Deployment

### Docker Containers

```yaml
services:
  db:         # PostgreSQL 15
  web:        # Django + Gunicorn
  redis:      # Redis 7 (cache)
  nginx:      # Nginx (reverse proxy)
```

### Scaling Strategy

**Horizontal Scaling:**
```yaml
# docker-compose.yml
web:
  deploy:
    replicas: 4  # 4 –∏–Ω—Å—Ç–∞–Ω—Å–∞ Django
    
  # Nginx –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç
```

**Database:**
```
PostgreSQL Master-Slave Replication
  Master (write) ‚Üí Slave (read)
```

**Cache:**
```
Redis Cluster –∏–ª–∏ Redis Sentinel
–¥–ª—è high availability
```

---

## üìà Monitoring

### Sentry Integration

```python
# settings.py
sentry_sdk.init(
    dsn="https://...",
    integrations=[DjangoIntegration()],
    traces_sample_rate=1.0,
)
```

### Logging

```
logs/
  ‚îú‚îÄ lootlink.log    (INFO+)
  ‚îú‚îÄ errors.log      (ERROR+)
  ‚îî‚îÄ security.log    (WARNING+ –¥–ª—è django.security)
```

### Metrics to Monitor

- **Response time** (p50, p95, p99)
- **Error rate** (4xx, 5xx)
- **Database connections** (active, idle)
- **Cache hit rate** (Redis)
- **Queue length** (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Celery)

---

## üîÆ Future Improvements

### Phase 1: Payments
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ÆKassa/Stripe
- Escrow —Å–∏—Å—Ç–µ–º–∞
- Wallet –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### Phase 2: Real-time
- WebSockets (Django Channels)
- Online —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- Typing indicators –≤ —á–∞—Ç–µ

### Phase 3: Advanced Features
- Machine Learning –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- Fraud detection
- Price prediction
- Automatic moderation

### Phase 4: Mobile
- REST API
- React Native app
- Push notifications

---

## üìû Architecture Decisions

–í—Å–µ –≤–∞–∂–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ `docs/architecture/ADR/`

–ü—Ä–∏–º–µ—Ä ADR (Architecture Decision Record):
- ADR-001: –ü–æ—á–µ–º—É PostgreSQL, –∞ –Ω–µ MongoDB
- ADR-002: –ü–æ—á–µ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã Django Channels
- ADR-003: Polling vs WebSockets –¥–ª—è —á–∞—Ç–∞

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 27 –æ–∫—Ç—è–±—Ä—è 2025
