# üöÄ –û–î–ù–ê –ö–û–ú–ê–ù–î–ê - –í–°–Å –ò–°–ü–†–ê–í–ò–¢–¨

## ‚ö° –°–ê–ú–´–ô –ë–´–°–¢–†–´–ô –°–ü–û–°–û–ë

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å Django (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø):

```bash
cd /var/www/lootlink && python scripts/auto_fix_all.py --auto
```

**–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç –ë–î
- ‚úÖ –£–¥–∞–ª–∏—Ç –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (DemoSeller, test@, demo@)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ `reazonvan`
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç .env —Ñ–∞–π–ª
- ‚úÖ –û—á–∏—Å—Ç–∏—Ç –∫–µ—à
- ‚úÖ –ü–æ–∫–∞–∂–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–í—Ä–µ–º—è:** ~5 —Å–µ–∫—É–Ω–¥

---

### –ß–µ—Ä–µ–∑ PostgreSQL (–µ—Å–ª–∏ Django –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):

```bash
cd /var/www/lootlink && bash scripts/auto_cleanup.sh
```

**–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:**
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ë–î
- ‚úÖ –ü–æ–∫–∞–∂–µ—Ç —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ
- ‚ö†Ô∏è –ü–æ–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (–≤–≤–µ–¥–∏—Ç–µ `yes`)
- ‚úÖ –£–¥–∞–ª–∏—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ SQL
- ‚úÖ –û—á–∏—Å—Ç–∏—Ç –∫–µ—à Django

---

## üìã –í–°–ï –î–û–°–¢–£–ü–ù–´–ï –í–ê–†–ò–ê–ù–¢–´

### 1. –ü–æ–ª–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç (Django) - –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π
```bash
python scripts/auto_fix_all.py --auto
```

### 2. –° –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º (Django)
```bash
python scripts/auto_fix_all.py
```

### 3. Bash —Å–∫—Ä–∏–ø—Ç (PostgreSQL + Django)
```bash
bash scripts/auto_cleanup.sh
```

### 4. –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ (Django)
```bash
python scripts/check_database.py
```

### 5. –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ (SQL)
```bash
psql -U postgres -d lootlink_db -f scripts/check_db.sql
```

### 6. –¢–æ–ª—å–∫–æ –æ—á–∏—Å—Ç–∫–∞ (SQL)
```bash
psql -U postgres -d lootlink_db -f scripts/cleanup_db.sql
```

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–ù–ê–Ø –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û–°–¢–¨

### –í–∞—Ä–∏–∞–Ω—Ç A: –ë—ã—Å—Ç—Ä—ã–π (1 –∫–æ–º–∞–Ω–¥–∞)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@91.218.245.178
cd /var/www/lootlink
python scripts/auto_fix_all.py --auto
sudo systemctl restart lootlink
```

**–ì–æ—Ç–æ–≤–æ!** ‚úÖ

---

### –í–∞—Ä–∏–∞–Ω—Ç B: –û—Å—Ç–æ—Ä–æ–∂–Ω—ã–π (3 –∫–æ–º–∞–Ω–¥—ã)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@91.218.245.178
cd /var/www/lootlink

# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞
python scripts/check_database.py

# 2. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã!

# 3. –ï—Å–ª–∏ –≤—Å—ë –û–ö - –æ—á–∏—Å—Ç–∫–∞
python scripts/auto_fix_all.py --auto

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl restart lootlink
```

---

## ‚úÖ –ß–¢–û –ë–£–î–ï–¢ –°–û–•–†–ê–ù–ï–ù–û

- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `reazonvan` (–≤–ª–∞–¥–µ–ª–µ—Ü)
- ‚úÖ –í—Å–µ –µ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- ‚úÖ –í—Å–µ –µ–≥–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- ‚úÖ –í—Å–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∏–≥—Ä—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

## ‚ùå –ß–¢–û –ë–£–î–ï–¢ –£–î–ê–õ–ï–ù–û

- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏: demo, test, fake
- ‚ùå Email: @example.com, @test.com, @lootlink.com
- ‚ùå –í—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚ùå –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚ùå –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üõ°Ô∏è –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

‚úÖ **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** - –≤—Å—ë –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –ø—Ä–∏ –æ—à–∏–±–∫–µ –æ—Ç–∫–∞—Ç–∏—Ç—Å—è  
‚úÖ **–ó–∞—â–∏—Ç–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞** - reazonvan –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —É–¥–∞–ª–∏—Ç—Å—è  
‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞** - —Å–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω–æ  
‚úÖ **–õ–æ–≥–∏** - –≤—Å—ë –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å  

---

## üìä –ü–†–ò–ú–ï–† –í–´–í–û–î–ê

```
================================================================================
  –ü–û–õ–ù–û–°–¢–¨–Æ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –û–ß–ò–°–¢–ö–ê
================================================================================

[STEP 1/4] –ê–ù–ê–õ–ò–ó –ë–ê–ó–´ –î–ê–ù–ù–´–•
--------------------------------------------------------------------------------
–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:     3
–ó–∞—â–∏—â–µ–Ω–Ω—ã—Ö:              1
–¢–µ—Å—Ç–æ–≤—ã—Ö (–∫ —É–¥–∞–ª–µ–Ω–∏—é):   2

[PROTECTED] –ë—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã:
  [OK] reazonvan           (ivanpetrov20066.ip@gmail.com ) - 8 –æ–±—ä—è–≤–ª.

[DELETE] –ë—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã:
  [X] DemoSeller          (demo@lootlink.com            ) - 45 –æ–±—ä—è–≤–ª.
  [X] testuser123         (test@test.com                ) - 0 –æ–±—ä—è–≤–ª.

[STEP 2/4] –£–î–ê–õ–ï–ù–ò–ï –¢–ï–°–¢–û–í–´–• –î–ê–ù–ù–´–•
--------------------------------------------------------------------------------
  [OK] –£–¥–∞–ª–µ–Ω: DemoSeller (45 –æ–±—ä—è–≤–ª., 12 —Ç—Ä–∞–Ω–∑.)
  [OK] –£–¥–∞–ª–µ–Ω: testuser123 (0 –æ–±—ä—è–≤–ª., 0 —Ç—Ä–∞–Ω–∑.)

[SUCCESS] –£–¥–∞–ª–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 2
          –£–¥–∞–ª–µ–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π:    45
          –£–¥–∞–ª–µ–Ω–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:    12

[STEP 3/4] –û–ë–ù–û–í–õ–ï–ù–ò–ï .ENV
--------------------------------------------------------------------------------
  [OK] –û–±–Ω–æ–≤–ª–µ–Ω–æ: DEFAULT_FROM_EMAIL=ivanpetrov20066.ip@gmail.com

[STEP 4/4] –û–ß–ò–°–¢–ö–ê –ö–ï–®–ê
--------------------------------------------------------------------------------
  [OK] –ö–µ—à Django –æ—á–∏—â–µ–Ω

================================================================================
  –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê
================================================================================

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Å—Ç–∞–ª–æ—Å—å: 1

–û—Å—Ç–∞–≤—à–∏–µ—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:
  - reazonvan           (ivanpetrov20066.ip@gmail.com ) - 8 –æ–±—ä—è–≤–ª.

[SUCCESS] –í–ª–∞–¥–µ–ª–µ—Ü 'reazonvan' —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∏ –Ω–∞ –º–µ—Å—Ç–µ!

================================================================================
  –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –û–ß–ò–°–¢–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û!
================================================================================

–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
  [OK] –£–¥–∞–ª–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:  2
  [OK] –£–¥–∞–ª–µ–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π:              45
  [OK] –£–¥–∞–ª–µ–Ω–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:              12
  [OK] –û–±–Ω–æ–≤–ª–µ–Ω .env —Ñ–∞–π–ª
  [OK] –û—á–∏—â–µ–Ω –∫–µ—à
  [OK] –í–ª–∞–¥–µ–ª–µ—Ü 'reazonvan' —Å–æ—Ö—Ä–∞–Ω–µ–Ω
```

---

## üéâ –ü–û–°–õ–ï –í–´–ü–û–õ–ù–ï–ù–ò–Ø

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
sudo systemctl restart lootlink

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∞–π—Ç
curl http://91.218.245.178/requisites/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
python manage.py check
```

---

## üÜò –ï–°–õ–ò –ß–¢–û-–¢–û –ü–û–®–õ–û –ù–ï –¢–ê–ö

–°–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ - –µ—Å–ª–∏ –æ—à–∏–±–∫–∞, –≤—Å—ë –æ—Ç–∫–∞—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–ù–æ –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π:

```bash
# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –±—ç–∫–∞–ø–∞:
pg_restore -U postgres -d lootlink_db /path/to/backup.dump
```

---

## ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô –ß–ï–ö-–õ–ò–°–¢

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å reazonvan –Ω–∞ –º–µ—Å—Ç–µ
- [ ] –¢–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ—Ç
- [ ] –°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç: http://91.218.245.178
- [ ] Email –≤ —Ñ—É—Ç–µ—Ä–µ: ivanpetrov20066.ip@gmail.com
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–í—Å—ë –û–ö?** ‚Üí **–û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤ –ÆKassa! üöÄ**

---

**–ì–û–¢–û–í–û!** –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—Å–µ–≥–æ! ‚ö°

